# Scripting
- Curso acelerado de PowerShell https://www.jesusninoc.com/11/22/curso-online-de-powershell-diciembre-2025/
- Script para monitorizar (con awk)
```Bash
ps -eo pid,comm,%cpu --no-headers | awk -v v="$valor" '$3 > v'
```
- Script para monitorizar (con while)
```Bash
#!/bin/bash

read -p "CPU mínima: " valor

ps -eo pid,comm,%cpu --no-headers | while read pid nombre cpu; do
    entero=$(echo "$cpu" | cut -d. -f1)
    if [ "$entero" -gt "$valor" ]; then
        echo "$pid  $nombre  $cpu"
    fi
done
```
- Pedir nombre y mostrar mensaje en PowerShell y Bash
```PowerShell
$name = Read-Host "Escribe tu nombre"

if ($name) {
    Write-Host "Hola, $name!"
} else {
    Write-Host "No escribiste tu nombre."
}
```
```Bash
read -p "Escribe tu nombre: " name

if [ -n "$name" ]; then
    echo "Hola, $name!"
else
    echo "No escribiste tu nombre."
fi
```
- Relacionado con la seguridad https://www.jesusninoc.com/11/29/crear-un-formulario-en-powershell-con-un-boton-que-ocupe-todo-el-formulario/

# Preguntas tema scripting

¿Para qué sirve el comando Read-Host en PowerShell?
a) Para reiniciar un servicio
b) Para leer un dato introducido por el usuario por teclado
c) Para mostrar la lista de procesos

En Bash, ¿qué hace la instrucción read -p "CPU mínima: " valor?
a) Muestra el uso de CPU del sistema
b) Pide al usuario un dato y lo guarda en la variable valor
c) Ejecuta un script llamado valor

En PowerShell, ¿qué hace la variable $valor = Read-Host "CPU mínima"?
a) Asigna un valor fijo a la variable
b) Borra el contenido de la variable
c) Guarda en $valor lo que escriba el usuario

En PowerShell, ¿qué hace Get-Process?
a) Muestra los servicios instalados
b) Muestra los procesos que se están ejecutando en el sistema
c) Muestra los usuarios conectados

En PowerShell, ¿qué indica el operador -gt en la condición Where-Object { $_.CPU -gt $valor }?
a) Menor que
b) Igual que
c) Mayor que

En el comando de Bash ps -eo pid,comm,%cpu --no-headers, ¿qué hace ps?
a) Muestra procesos en ejecución
b) Muestra el espacio libre en disco
c) Muestra la configuración de red

En el script de Bash, ¿para qué se usa el bucle while en:
ps -eo pid,comm,%cpu --no-headers | while read pid nombre cpu; do ... done?
a) Para ejecutar el script una sola vez
b) Para leer línea a línea la salida de ps y procesar cada proceso
c) Para detener todos los procesos que se muestren

¿Cuál es una ventaja de usar scripts para monitorizar procesos?
a) Que siempre consumen mucha CPU
b) Que permiten automatizar comprobaciones repetitivas sin hacerlo manualmente
c) Que impiden ver los procesos del sistema

En un script de administración, ¿para qué sirve guardar resultados en un archivo de log?
a) Para borrar automáticamente los procesos antiguos
b) Para poder revisar después qué ha pasado y cuándo
c) Para acelerar la ejecución del script

En PowerShell, ¿qué hace Select-Object Id, ProcessName, CPU tras Get-Process?
a) Elimina los procesos que no usen CPU
b) Muestra únicamente las columnas Id, nombre del proceso y CPU
c) Cambia las prioridades de los procesos

En Bash, ¿qué se entiende por “script”?
a) Un archivo de texto con comandos que se ejecutan de forma automática
b) Un tipo especial de usuario
c) Una partición del disco duro
